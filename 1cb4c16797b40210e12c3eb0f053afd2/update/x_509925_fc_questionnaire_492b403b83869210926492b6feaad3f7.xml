<?xml version="1.0" encoding="UTF-8"?><record_update table="x_509925_fc_questionnaire">
    <x_509925_fc_questionnaire action="INSERT_OR_UPDATE">
        <attributes><![CDATA[(function(current, table, target_id, task_id, params){
	
	var attributes = new FCQuestionnaireRepository().getDefaultAttributes(current, table, target_id, task_id, params);
	return attributes;
	
})(current, table, target_id, task_id, params);]]></attributes>
        <base>false</base>
        <cancel_callback><![CDATA[(function(form) {
    //First we want to check if there's a task_id
	if(!gs.nil(form._task_id)){
		var calceledTaskResult = new HRTaskRepository().cancelTask(form._task_id);
	}
})(form);]]></cancel_callback>
        <cancel_label>Cancel</cancel_label>
        <close_task_on_submit>true</close_task_on_submit>
        <css_classes/>
        <delete_callback><![CDATA[(function(form){
	throw new Error('Non Implementation Error.');
})(form);]]></delete_callback>
        <delete_draft_on_load>false</delete_draft_on_load>
        <delete_label>Delete</delete_label>
        <deleteable>false</deleteable>
        <draftable>false</draftable>
        <name>Name Change Request</name>
        <number>QN0001166</number>
        <on_submit><![CDATA[(function(form) {
    const hrServiceGr = new GlideRecord('sn_hr_core_service');
    const userId = gs.getUserID();
    hrServiceGr.get('8c2c4c7b83869210926492b6feaad386');
    form.hr_service = hrServiceGr.getUniqueValue();
    form.short_description = `${hrServiceGr.getValue('name')} for ${gs.getUserDisplayName()}`;
    form.assignment_group = 'ff0370019f22120047a2d126c42e702b';
    form.state = '10';
    form.subject_person = userId;
    form.opened_for = userId;
    form.due_date
    form.contact_type = 'self_service';
    return form;
    
})(form);]]></on_submit>
        <pdf/>
        <readonly>false</readonly>
        <reassignable>false</reassignable>
        <related_knowledge/>
        <require_esignature>false</require_esignature>
        <route/>
        <save_label>Save Draft</save_label>
        <show_cancel>false</show_cancel>
        <show_save>false</show_save>
        <show_signature>false</show_signature>
        <show_submit>true</show_submit>
        <show_title>true</show_title>
        <signature_list>[]</signature_list>
        <submit_callback><![CDATA[(function (form) {
    try {
        var targetGr = new GlideRecord(form._table);
        targetGr.get(form._target_id);

        var inputs = {};
        inputs['hr_case'] = targetGr; // GlideRecord of table: sn_hr_core_case 

        sn_fd.FlowAPI.getRunner().subflow('x_509925_fc.name_change_request').inForeground().withInputs(inputs).run();
        
    } catch (ex) {
        var message = ex.getMessage();
        gs.error(message);
    }
})(form);]]></submit_callback>
        <submit_confirmation_message>I'm confirming that all information provided is true and correct to the best of my knowledge.</submit_confirmation_message>
        <submit_label>Submit</submit_label>
        <subtype>request</subtype>
        <sys_class_name>x_509925_fc_questionnaire</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2024-11-30 03:10:18</sys_created_on>
        <sys_id>492b403b83869210926492b6feaad3f7</sys_id>
        <sys_mod_count>2</sys_mod_count>
        <sys_name>Name Change Request</sys_name>
        <sys_package display_value="FC" source="x_509925_fc">1cb4c16797b40210e12c3eb0f053afd2</sys_package>
        <sys_policy/>
        <sys_scope display_value="FC">1cb4c16797b40210e12c3eb0f053afd2</sys_scope>
        <sys_update_name>x_509925_fc_questionnaire_492b403b83869210926492b6feaad3f7</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2024-11-30 05:15:48</sys_updated_on>
        <table>sn_hr_core_case</table>
        <type>record_producer</type>
        <validation><![CDATA[(function(form) {
    var result = {
        validation: true,
        message: ''
    };

    return result;
})(form);]]></validation>
        <whats_next/>
    </x_509925_fc_questionnaire>
</record_update>
